# ==============================================================================
# Starship Prompt Configuration for Seedbox Environment
# ==============================================================================
# Starship is a fast, cross-shell prompt written in Rust
# https://starship.rs/
#
# This configuration is optimized for:
#   - Restricted seedbox environment (no Nerd Fonts)
#   - Fast performance (minimal modules)
#   - ASCII-only symbols
#   - Git-aware prompt
# ==============================================================================

# Inserts a blank line between shell prompts
add_newline = true

# Timeout for commands (milliseconds)
command_timeout = 500

# Format of the prompt
# Using ASCII-only symbols for compatibility
# Two-line prompt: first line shows context, second line is where you type
format = """
[┌─](bold green)$time\
 $username\
$hostname\
$directory\
$git_branch\
$git_status\
$nodejs\
$python\
$rust\
$cmd_duration
[└─](bold green)$character"""

# Character
[character]
success_symbol = "[>](bold green)"
error_symbol = "[>](bold red)"

# Username
[username]
style_user = "bold cyan"
style_root = "bold red"
format = "[$user]($style) "
disabled = false
show_always = true

# Hostname
[hostname]
ssh_only = false
format = "[@$hostname]($style) "
style = "bold green"
disabled = false

# Directory
[directory]
truncation_length = 3
truncate_to_repo = true
format = "[$path]($style)[$read_only]($read_only_style) "
style = "bold blue"
read_only = " [RO]"
read_only_style = "bold red"
home_symbol = "~"

[directory.substitutions]
"/" = "/"
"//.dotfiles" = "~/.dotfiles"
"//." = "~/."

# Git Branch
[git_branch]
symbol = "branch "
format = "on [$symbol$branch]($style) "
style = "bold purple"
truncation_length = 20
truncation_symbol = "..."

# Git Status
[git_status]
format = '([\[$all_status$ahead_behind\]]($style) )'
style = "bold red"
ahead = "ahead ${count}"
behind = "behind ${count}"
diverged = "diverged ahead ${ahead_count} behind ${behind_count}"
conflicted = "conflicted ${count}"
deleted = "deleted ${count}"
renamed = "renamed ${count}"
modified = "modified ${count}"
staged = "staged ${count}"
untracked = "untracked ${count}"
stashed = "stashed ${count}"

# Command Duration
[cmd_duration]
min_time = 500
format = "took [$duration]($style) "
style = "bold yellow"

# Node.js
[nodejs]
format = "via [node $version]($style) "
style = "bold green"
disabled = false

# Python
[python]
format = 'via [python ${pyversion}]($style) '
style = "bold yellow"
disabled = false

# Rust
[rust]
format = "via [rust $version]($style) "
style = "bold red"
disabled = false

# Battery (disabled in server environment)
[battery]
disabled = true

# Time (shows date and time at the start of the prompt)
[time]
disabled = false
format = "[$time]($style) "
style = "bold white"
time_format = "%Y-%m-%d %H:%M:%S"
